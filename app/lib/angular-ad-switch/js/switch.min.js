!function(){function t(t,e,i){var n=e[0],s=this;angular.extend(s,{$scope:t,config:t,isInit:!1,content:void 0,width:void 0,init:function(){t.$broadcast("switch.init.start"),e.addClass(t.classPrefix),e.addClass(t.classPrefix+"-"+t.type),this.width=n.clientWidth,t.height>2?n.style.height=t.height:t.height>0&&(n.style.height=this.width*t.height),this.bindTouchEvent(),t.$broadcast("switch.init"),this.isInit=!0,t.$broadcast("switch.init.end")},refresh:function(){this.width=n.clientWidth,t.$broadcast("switch.refresh")},setSwitchContent:function(t){this.switchContent=t},bindTouchEvent:function(){function t(o){var r=o.touches[0].pageX,h=o.touches[0].pageY,l=r-e,c=h-i,d=Math.abs(180*Math.atan2(c,l)/Math.PI),u=60>=d||d>=120;a++,u?(3===a&&(s.oX=r,n.addEventListener("touchmove",s.slipHandler),n.addEventListener("touchend",s.slipEndHandler),n.addEventListener("touchcancel",s.slipEndHandler),n.removeEventListener("touchmove",t)),o.preventDefault(),o.stopPropagation()):n.removeEventListener("touchmove",t)}var e,i,a,o=this;n.addEventListener("touchstart",function(s){o.content.panels.length>1&&(e=s.touches[0].pageX,i=s.touches[0].pageY,a=0,n.addEventListener("touchmove",t))})},slipHandler:function(t){var e=t.touches[0].pageX,i=e-s.oX;s.oX=e,s.switchContent.move(i),t.preventDefault(),t.stopPropagation()},slipEndHandler:function(t){n.removeEventListener("touchmove",s.slipHandler),n.removeEventListener("touchend",s.slipEndHandler),n.removeEventListener("touchcancel",s.slipEndHandler),s.switchContent.standstill()}})}function e(t,e,i,n){var s=e[0],a=this;angular.extend(a,{"switch":void 0,panels:[],currentPanel:void 0,currentPanelIndex:void 0,width:0,panelOffset:0,moveDirection:1,animate:void 0,rightPanel:void 0,leftPanel:void 0,init:function(t){var i=this;this["switch"]=t,e.addClass(t.config.classPrefix+"-content"),this.width=s.clientWidth,t.$scope.$on("switch.refresh",function(){i.refresh()}),this.autoPlayTiming=t.$scope.autoPlay,this.autoPlay()},refresh:function(){this.width=s.clientWidth},addPanel:function(t){this.panels.push(t);var e=this.panels.length-1;this["switch"].$scope.$broadcast("bsSwitch.panel.add",e),this.currentPanel?t.$el.addClass("hide"):(this.currentPanel=t,this.currentPanelIndex=e,this.currentPanel.$el.addClass("active"),this["switch"].$scope.$broadcast("bsSwitch.panel.switch",this.currentPanelIndex))},removePanel:function(t){var e=this.panels.indexOf(t);if(-1!==e){if(this.panels.splice(e,1),t===this.leftPanel&&(this.leftPanel=void 0),t===this.rightPanel&&(this.rightPanel=void 0),e===this.currentPanelIndex)if(this.panels.length){var i=this.panels[e];this._transform(i.el,0),i.$el.removeClass("hide"),i.$el.addClass("active"),this.currentPanel=i}else this.currentPanel=void 0,this.currentPanelIndex=void 0;else e<this.currentPanelIndex&&(this.currentPanelIndex-=1);this["switch"].$scope.$broadcast("bsSwitch.panel.remove",e,t)}},move:function(t){this.animate&&this.animate.over(),this.autoPlayTimer&&this.stopAutoPlay(),this._move(this.panelOffset+t)},standstill:function(){var t=this.currentPanelIndex;this.moveDirection===c.LEFT?(t+=1,t%=this.panels.length):(t-=1,-1===t&&(t=this.panels.length-1)),this.toggle(t,this.moveDirection)},toggle:function(t,e){var i,s=this,a=n.defer(),o=a.promise,r=this.panels[t],h=this.panelOffset;if(!r)return a.resolve(),o;if(e===c.LEFT)i=-this.currentPanel.outerWidth;else{if(e!==c.RIGHT)return a.resolve(),o;i=this.currentPanel.outerWidth}return this["switch"].$scope.$broadcast("bsSwitch.panel.switch",t),this.animate&&this.animate.over(),this.stopAutoPlay(),this.animate=new d({target:this.currentPanel.el,speed:200,frame:function(t,e,n){s._move(h-(h-i)*n)},over:function(){s.currentPanel.$el.removeClass("active"),s.currentPanel.$el.addClass("hide"),e===c.LEFT?(s.rightPanel=void 0,s._clearLeftPanel()):(s.leftPanel=void 0,s._clearRightPanel()),s.currentPanel=s.panels[t],s.currentPanel.$el.addClass("active"),s.currentPanelIndex=t,s.panelOffset=0,s.animate=void 0,s.autoPlay(),a.resolve()}}),this.animate.run(),o},autoPlay:function(){var t=this;return this.autoPlayTiming?1==t.panels.length?!1:(this.stopAutoPlay(),this.autoPlayTimer=setTimeout(function(){if(1!=t.panels.length){var e=(t.currentPanelIndex+1)%t.panels.length;t.toggle(e,c.LEFT),t.autoPlay()}},t.autoPlayTiming),!0):!1},stopAutoPlay:function(){this.autoPlayTimer&&(clearTimeout(this.autoPlayTimer),this.autoPlayTimer=void 0)},_move:function(t){var e=this.rightPanel,i=this.leftPanel;this.moveDirection=t>=this.panelOffset?c.RIGHT:c.LEFT,this.panelOffset=t,this._transform(this.currentPanel.el,t),0>t?(i&&this._clearLeftPanel(),e||(e=this.rightPanel=this._getNextPanelByIndex(this.currentPanelIndex),e.$el.removeClass("hide")),this._transform(e.el,this.panelOffset+this.width)):t>0?(e&&this._clearRightPanel(),i||(i=this.leftPanel=this._getPrevPanelByIndex(this.currentPanelIndex),i.$el.removeClass("hide")),this._transform(i.el,this.panelOffset-this.width)):(this._clearLeftPanel(),this._clearRightPanel())},_getNextPanelByIndex:function(t){var e=this.panels;return e[(t+1)%e.length]},_getPrevPanelByIndex:function(t){var e=this.panels;return 0===t&&(t=e.length),e[t-1]},_clearLeftPanel:function(){this.leftPanel&&(this.leftPanel.$el.addClass("hide"),this.leftPanel=void 0)},_clearRightPanel:function(){this.rightPanel&&(this.rightPanel.$el.addClass("hide"),this.rightPanel=void 0)},_transform:function(t,e){var i="translate3D("+e+"px, 0, 0)";t.style.webkitTransform=i,t.style.msTransform=i,t.style.transform=i}})}function i(t,e,i,n){var s=e[0],a=this;angular.extend(a,{"switch":void 0,panels:[],width:0,offset:0,moveDirection:1,animate:void 0,init:function(t){var i=this;this["switch"]=t,e.addClass(t.config.classPrefix+"-content"),e.css("width",i.width),t.$scope.$on("switch.refresh",function(){i.refresh()})},refresh:function(){this._move(this.offset)},addPanel:function(t){this.panels.push(t),this.width+=t.outerWidth,s.style.width=this.width+"px",this["switch"].$scope.$broadcast("bsSwitch.panel.add",this.panels.length-1)},removePanel:function(t){var e=this.panels.indexOf(t);-1!==e&&(this.panels.splice(e,1),this["switch"].$scope.$broadcast("bsSwitch.panel.remove",e,t),this.width-=t.outerWidth,s.style.width=this.width+"px")},move:function(t){this["switch"].width>=this.width||(this.animate&&(this.animate.over(),this.animate=void 0),this._move(this.offset+t))},standstill:function(){if(!(this["switch"].width>=this.width)){for(var t,e=0,i=this.panels.length,n=i-1,s=Math.abs(this.offset);i>e&&(t=this.panels[e],!(s<t.outerWidth));e++)s-=t.outerWidth;e===i&&(e=n),-1===this.moveDirection&&(e=Math.min(e+1,n)),this.toggle(e)}},toggle:function(t){var e=this,i=n.defer(),a=i.promise,o=this.panels[t];if(this["switch"].width>=this.width)return i.resolve(),a;if(!o)return i.resolve(),a;var r=this.offset,h=-o.el.offsetLeft;return r===h?(i.resolve(),a):(this["switch"].$scope.$broadcast("bsSwitch.panel.switch",t),this.animate&&this.animate.over(),this.animate=new d({target:s,speed:100,frame:function(t,i,n){e._move(r-(r-h)*n)},over:function(){i.resolve()}}),this.animate.run(),a)},_move:function(t){if(t=Math.min(0,Math.max(t,-(this.width-this["switch"].width))),t!==this.offset){this.moveDirection=t>=this.offset?1:-1,this.offset=t;var e="translate3D("+this.offset+"px, 0, 0)";return s.style.webkitTransform=e,s.style.msTransform=e,s.style.transform=e,!0}return!1}})}function n(t,e,i){var n=e[0],s=this;angular.extend(s,{"switch":void 0,$el:e,el:n,init:function(i){var n=this;e.addClass(i.config.classPrefix+"-panel"),t.$last&&e.addClass("last"),this.outerWidth=this.getOuterWidth(),i.$scope.$on("switch.refresh",function(){n.refresh()})},refresh:function(){this.outerWidth=this.getOuterWidth()},getOuterWidth:function(){var t,e,i,s,a=window.getComputedStyle(n),o=a.display,r=n.style.display,h="none"===o;return h&&(n.style.display="block"),t=parseInt(a.marginRight,10),e=parseInt(a.marginLeft,10),i=n.offsetWidth,s=t+e+i,h&&("none"===r?n.style.display="none":r||delete n.style.display),s}})}function s(t,e,i){var n=(e[0],this);angular.extend(n,{nodes:[],activeNode:void 0,activeNodeIndex:void 0,init:function(t){var i=this;this["switch"]=t,e.addClass(t.config.classPrefix+"-nav"),t.$scope.$on("bsSwitch.panel.add",function(t,e){i.addNode(e)}),t.$scope.$on("bsSwitch.panel.remove",function(t,e){i.removeNode(e)}),t.$scope.$on("bsSwitch.panel.switch",function(t,e){i.change(e)})},change:function(t){this.activeNode&&this.activeNode.removeClass("active"),(0>t||t>=this.nodes.length)&&(t=void 0),this.activeNodeIndex=t,this.activeNode=this.nodes[t],this.activeNode.addClass("active")},addNode:function(t){var i=angular.element("<span>‚óè</span>");i.addClass(this["switch"].config.classPrefix+"-nav-item"),this.nodes.push(i),0===t?(this.nodes.unshift(i),e.append(i)):(this.nodes.splice(t,0,i),this.nodes[t-1].after(i))},removeNode:function(t){var e=this.nodes.splice(t,1)[0];e&&(this.activeNode===e&&this.change(t),e.remove())}})}function a(){function t(t,e,i,n){function s(t){try{t instanceof CustomEvent||n.refresh()}catch(t){n.refresh()}}i.$attr.autoPlay&&void 0===t.autoPlay&&(t.autoPlay=3),t.autoPlay=parseInt(t.autoPlay,10),t.type||(t.type="slider"),t.step||(t.step=1),t.classPrefix||(t.classPrefix="ui-switch"),t.height||(t.height=-1),n.init(),window.addEventListener("resize",s),t.$on("$destroy",function(){window.removeEventListener("resize",s)})}return{restrict:"E",controller:"bsSwitchCtrl",scope:{step:"=?",classPrefix:"@?",autoPlay:"=?",type:"@?",height:"=?"},link:t}}function o(t){function e(e,i,n,s){function a(){h.init(o),o.setSwitchContent(h)}var o=s[0],r="bsSwitchContent"+l(o.config.type)+"Ctrl",h=t(r,{$scope:e,$element:i,$attrs:n});o.content=h,o.isInit?a():o.$scope.$on("switch.init",a)}return{restrict:"E",require:["^^bsSwitch"],link:e}}function r(){function t(t,e,i,n){function s(){t.$on("$destroy",function(){a.content.removePanel(o)})}var a=n[0],o=n[1];a.isInit?(o.init(a),a.content.addPanel(o),s()):(a.$scope.$on("switch.init",function(){o.init(a)}),a.$scope.$on("switch.init.end",function(){a.content.addPanel(o),s()}))}return{restrict:"E",controller:"bsSwitchPanelCtrl",require:["^^bsSwitch","bsSwitchPanel"],scope:!0,link:t}}function h(){function t(t,e,i,n){var s=n[0],a=n[1];s.isInit?a.init(s):s.$scope.$on("switch.init",function(){a.init(s)})}return{restrict:"E",controller:"bsSwitchNavCtrl",require:["^^bsSwitch","bsSwitchNav"],link:t}}function l(t){var e=t[0];return e?e.toUpperCase()+t.substring(1):t}angular.module("bsSwitch",[]).controller("bsSwitchCtrl",t).controller("bsSwitchContentGalleryCtrl",i).controller("bsSwitchContentSliderCtrl",e).controller("bsSwitchPanelCtrl",n).controller("bsSwitchNavCtrl",s).directive("bsSwitch",a).directive("bsSwitchContent",o).directive("bsSwitchPanel",r).directive("bsSwitchNav",h);var c={LEFT:-1,RIGHT:1};t.$inject="$scope, $element, $attrs".split(", "),e.$inject="$scope, $element, $attrs, $q".split(", "),i.$inject="$scope, $element, $attrs, $q".split(", "),n.$inject="$scope, $element, $attrs".split(", "),s.$inject="$scope, $element, $attrs".split(", "),o.$inject="$controller".split(", ");var d=function(){"use strict";function t(e){var n=this;n.target=e.target,n.isRun=!1,n.isSuspend=!1,n.iterationCount=0,n._timeout=null,n._playTime=0,e.easing=e.easing||t.easing.def,e.speed=s.call(i,e.speed)?i[e.speed]:e.speed,e.iteration="infinite"!==e.iteration&&e.iteration<1?1:e.iteration,n.options=e}var e=77,i={slow:600,fast:200,normal:400},n=Math.floor(1e3/e),s=Object.prototype.hasOwnProperty;return t.prototype={constructor:t,run:function(){function t(){var s,a=new Date;i._playTime+=a-e,s=i._playTime/i.options.speed,s=Math.min(s,1),i._frame(s),1>s?(e=a,i._timeout=setTimeout(t,n)):(i.over(),i.iterationCount++,"infinite"===i.options.iteration||i.options.iteration>i.iterationCount?i.run():i.iterationCount=0)}var e,i=this;return i.isRun?!1:(i.isSuspend?i.isSuspend=!1:this._callFun("init",[i.target,i]),i.isRun=!0,e=new Date,i._timeout=setTimeout(t,n),!0)},suspend:function(){var t=this;clearTimeout(t._timeout),t.isSuspend=!0,t._callFun("suspend",[t.target,t])},over:function(t){var e=this;t&&e._frame(1),clearTimeout(e._timeout),e.isRun=!1,e.isSuspend=!1,e._playTime=0,e._callFun("over",[e.target,e])},_frame:function(e){var i=this;i._callFun("frame",[i.target,e,t.easing[i.options.easing](e,0,1,1),i])},_callFun:function(t,e){var i=this.options[t],n=!0;if("function"==typeof i)i.apply(this,e);else if("object"==typeof i&&"number"==typeof i.length)for(var s=0,a=i.lenght;a>s;s++)i[s].apply(this,e);else n=!1;return n}},t.easing={def:"linear",linear:function(t,e,i,n){return t}},t}(window)}();